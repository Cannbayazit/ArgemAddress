@page "/city"
@layout MainLayout

<div class="row px-5 py-2">

    <div class="col-12">
        <div class="col-12 b-rad-for-col background-blur p-3 h-25 border-for-inputs">
            <h6>Yeni Kayıt Ekleme Alanı</h6>
        </div>
        <div class="col-12 mt-2 b-rad-for-col background-blur p-3 h-75 border-for-inputs">
        </div>
    </div>
</div>

@code {
    List<Neighbourhoods> neighbourhoods = new List<Neighbourhoods>();
    int? SelectedCity;
    int? SelectedDistrict;
    List<Cities> cities = Cities.CityList;
    List<Districts> districts = new List<Districts>();
    public string searchTextStatus;
    void searchTextChanged(string text)
    {
        searchTextStatus = $"Search text: {text}";


        StateHasChanged();
    }
    public void OnChange(object cityId)
    {
        if (cityId is not null)
        {
            districts = Districts.DistrictList.Where(p => p.IlId == (int)cityId).ToList();
            return;
        }
        districts = new List<Districts>();
    }

    public void GetFilteredItems()
    {
        if (SelectedCity is not null && SelectedDistrict is not null)
        {
            neighbourhoods = Neighbourhoods.NeighbourhoodsList.Where(p => p.IlId == SelectedCity && p.IlceId ==
            SelectedDistrict).ToList();
        }
    }
}